
= 4. Adopting .NET Aspire Instead of Docker Compose**

**Date:** 2025-12-11

== **Problem**

The OffroadCamping.Appointments platform consists of multiple services (ApiService, Web, Infrastructure, Domain) that must run together during development. Using Docker Compose required manual port management, duplicated environment variables, custom scripts, and provided no unified view of service health or dependencies. Configuration drift, inconsistent secrets, and poor developer experience made Compose increasingly difficult to maintain.

== **Decision**

We adopt **.NET Aspire** as the orchestration model for local development.

Key points:

- **AppHost as orchestration root** defining all services, dependencies, and external resources (MongoDB).
- **Service binding URIs** (`https+http://apiservice`) replace manual URLs and ports.
- **Centralized configuration**: secrets and connection strings flow from AppHost → services via environment variables.
- **Built-in health checks and startup ordering** ensure API waits for MongoDB and Web waits for API.
- **Unified developer experience**: the entire system runs with a single command and is observable through the Aspire dashboard.

== **Consequences**

**Positive:**
- Simplified orchestration and configuration
- Better observability and diagnostics
- Consistent environment setup
- First-class .NET integration

**Negative:**
- Requires learning Aspire’s model
- Less portable for non-.NET services
- Adds an AppHost project to maintain

== **Alternatives Considered**

- **Docker Compose** — rejected due to manual configuration and poor .NET integration
- **Manual orchestration** — too error-prone
- **Local Kubernetes** — too heavy for development

== **Outcome**

Aspire becomes the official orchestration approach for OffroadCamping.Appointments. Future services must be registered in AppHost and follow Aspire’s configuration model.
